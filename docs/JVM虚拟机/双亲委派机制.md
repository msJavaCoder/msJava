# 双亲委派机制

​		双亲委派机制是指一个类在收到类加载请求之后不会尝试自己加载这个类，而是把该类加载请求向上委派给其父类，其父类在接受到该类的加载请求之后又会将其委派给自己的父类，以此类推，这样所有的类加载请求都被向上委派到启动类加载器中。

​		但是若父类加载器在接收到类加载请求后发现自己也无法加载该类，则父类会将该信息反馈给子类并向下委派子类加载器，直到该类被成功加载，若找不到该类，则JVM会抛出ClassNotFind异常。

​		**双亲委派加载机制的类加载流程。**

1.  将自定义加载器挂载到应用程序类加载器。
2. 应用程序类加载器将类加载请求委托给扩展类加载器。
3. 扩展器加载器将类加载请求委托给启动类加载器。
4. 启动类加载器在加载路径下查找并加载Class文件，如果未找到目标Class文件，则交给应用程序类加载器加载。
5. 扩张类加载器在加载路径下查找并加载Class文件，如果未找到目标Class文件，则交由应用程序类加载器加载。
6. 应用程序类加载器在加载路径下查找并加载Class文件，如果未找到目标Class文件，则交由自定义类加载器加载。
7. 在自定义加载器下查找并加载用户指定目录下的Class文件，如果在自定义加载路径下为找到目标Class文件，则抛出ClassNotFind异常。

​		**双亲委派加载机制的核心就是保证类的唯一性和安全性。**